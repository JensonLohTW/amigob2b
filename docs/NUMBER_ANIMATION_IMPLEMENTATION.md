# 數字動畫效果實現說明

## 概述

為消費者頁面的統計數據添加了流暢優雅的動畫效果，提升用戶體驗和視覺吸引力。

## 實現細節

### 1. 動畫組件位置
- 文件：`src/components/StatList.tsx`
- 組件：`AnimatedValue`

### 2. 動畫特性

#### 觸發機制
- 使用 `useInView` hook 檢測元素是否進入視窗
- 觸發條件：元素進入視窗 50px 範圍內
- 一次性觸發：`once: true`

#### 數字動畫
- **持續時間**：2.5秒
- **緩動函數**：easeOutQuart (1 - (1-t)⁴)
- **起始值**：0
- **目標值**：根據實際數據動態解析

#### 視覺效果
- **透明度**：從 0 到 1
- **位移**：從 y: 30px 到 y: 0
- **縮放**：從 scale: 0.9 到 scale: 1
- **延遲**：0.1秒，讓動畫更自然

### 3. 數字格式化

#### 支援的格式
- **百分比**：`95%` → 動畫到 95%
- **加號**：`1000+` → 動畫到 1000+
- **時間**：`24小時` → 動畫到 24小時
- **純數字**：`1000` → 動畫到 1,000（自動添加千位分隔符）

#### 解析邏輯
```javascript
const numericMatch = value.match(/^(\d+(?:\.\d+)?)(.*)$/)
// 分離數字部分和單位部分
```

### 4. 性能優化

#### 動畫優化
- 使用 `requestAnimationFrame` 確保流暢動畫
- 避免重複觸發動畫：`isAnimating` 狀態控制
- 一次性觸發：避免重複動畫

#### 渲染優化
- 使用 `motion.span` 進行硬體加速
- 自定義緩動函數提供更自然的動畫效果

### 5. 使用方式

在消費者頁面中，統計數據會自動應用動畫效果：

```tsx
<StatList>
  <StatListItem value="95%" label="客戶滿意度" />
  <StatListItem value="1000+" label="信賴家庭" />
  <StatListItem value="24小時" label="新鮮保證" />
  <StatListItem value="100%" label="人食等級" />
</StatList>
```

### 6. 動畫效果

當用戶滾動到統計區域時，數字會：
1. 從 0 開始平滑遞增到目標值
2. 同時伴隨透明度、位移和縮放的變化
3. 使用優雅的緩動函數，讓動畫更自然
4. 支援不同格式的數字顯示

## 技術實現

- **框架**：React + TypeScript
- **動畫庫**：Framer Motion
- **檢測機制**：useInView hook
- **動畫控制**：requestAnimationFrame
- **緩動函數**：自定義 easeOutQuart

## 效果展示

動畫效果包括：
- 數字從 0 到目標值的平滑遞增
- 元素的淡入效果
- 輕微的位移和縮放動畫
- 優雅的緩動曲線
- 支援各種數字格式的自動解析 